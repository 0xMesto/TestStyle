<header x-data="{ mobileMenuOpen: false, searchOpen: false }" class="bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 text-white shadow-lg relative overflow-hidden">
  <div id="particles-js" class="absolute inset-0 opacity-30"></div>
  <div class="container mx-auto px-4 py-6 relative z-10">
    <div class="flex flex-wrap items-center justify-between">
      <div class="flex items-center space-x-4">
        <a href="/" class="text-3xl font-extrabold tracking-tight hover:text-indigo-200 transition-colors duration-300 transform hover:scale-105 font-display" data-aos="fade-right">
          <span class="bg-clip-text text-transparent bg-gradient-to-r from-white to-indigo-200 text-shadow animate-pulse">CardCraft</span>
        </a>
        <div class="hidden sm:flex items-center space-x-2 text-xs">
          <span class="px-2 py-1 bg-indigo-700 rounded-full animate-pulse">Beta</span>
          <span class="text-indigo-200">v1.0</span>
        </div>
      </div>
      <nav class="hidden lg:flex items-center space-x-8">
        <a href="/" class="nav-link group" data-aos="fade-down" data-aos-delay="100">
          <span class="nav-icon group-hover:bg-white group-hover:text-indigo-600">
            <i class="uil uil-estate"></i>
          </span>
          <span class="nav-text">Home</span>
        </a>
        <a href="/gallery" class="nav-link group" data-aos="fade-down" data-aos-delay="200">
          <span class="nav-icon group-hover:bg-white group-hover:text-indigo-600">
            <i class="uil uil-images"></i>
          </span>
          <span class="nav-text">Gallery</span>
        </a>
        <a href="/about" class="nav-link group" data-aos="fade-down" data-aos-delay="300">
          <span class="nav-icon group-hover:bg-white group-hover:text-indigo-600">
            <i class="uil uil-info-circle"></i>
          </span>
          <span class="nav-text">About</span>
        </a>
        <button @click="searchOpen = !searchOpen" class="nav-link group" data-aos="fade-down" data-aos-delay="400">
          <span class="nav-icon group-hover:bg-white group-hover:text-indigo-600">
            <i class="uil uil-search"></i>
          </span>
          <span class="nav-text">Search</span>
        </button>
        <a href="/signup" class="bg-white text-indigo-600 px-6 py-3 rounded-full text-sm font-bold hover:bg-indigo-100 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50 shadow-md transform hover:scale-105 hover:-translate-y-1 animate-bounce" data-aos="fade-left">
          Sign Up
        </a>
      </nav>
      <button @click="mobileMenuOpen = !mobileMenuOpen" class="lg:hidden text-white focus:outline-none">
        <i class="uil uil-bars text-2xl" x-show="!mobileMenuOpen"></i>
        <i class="uil uil-times text-2xl" x-show="mobileMenuOpen"></i>
      </button>
    </div>
    <div x-show="searchOpen" x-transition:enter="transition ease-out duration-200" x-transition:enter-start="opacity-0 transform scale-95" x-transition:enter-end="opacity-100 transform scale-100" x-transition:leave="transition ease-in duration-150" x-transition:leave-start="opacity-100 transform scale-100" x-transition:leave-end="opacity-0 transform scale-95" class="mt-4">
      <div class="relative">
        <input type="text" placeholder="Search..." class="w-full bg-white bg-opacity-20 text-white placeholder-indigo-200 rounded-full py-3 px-6 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50 transition-all duration-300 hover:bg-opacity-30">
        <button class="absolute right-3 top-1/2 transform -translate-y-1/2 text-indigo-200 hover:text-white transition-colors duration-300">
          <i class="uil uil-search"></i>
        </button>
      </div>
    </div>
    <div x-show="mobileMenuOpen" x-transition:enter="transition ease-out duration-200" x-transition:enter-start="opacity-0 transform scale-90" x-transition:enter-end="opacity-100 transform scale-100" x-transition:leave="transition ease-in duration-100" x-transition:leave-start="opacity-100 transform scale-100" x-transition:leave-end="opacity-0 transform scale-90" class="lg:hidden mt-4">
      <nav class="flex flex-col space-y-2">
        <a href="/" class="nav-link-mobile">
          <i class="uil uil-estate mr-2"></i> Home
        </a>
        <a href="/gallery" class="nav-link-mobile">
          <i class="uil uil-images mr-2"></i> Gallery
        </a>
        <a href="/about" class="nav-link-mobile">
          <i class="uil uil-info-circle mr-2"></i> About
        </a>
        <button @click="searchOpen = !searchOpen" class="nav-link-mobile text-left">
          <i class="uil uil-search mr-2"></i> Search
        </button>
        <a href="/signup" class="bg-white text-indigo-600 px-4 py-2 rounded-full text-sm font-bold hover:bg-indigo-100 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50 shadow-md text-center">
          Sign Up
        </a>
      </nav>
    </div>
  </div>
  <div class="absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-300 via-purple-300 to-pink-300"></div>
  <div class="absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-yellow-400 rounded-full opacity-20 animate-pulse"></div>
  <div class="absolute bottom-0 left-0 -mb-10 -ml-10 w-40 h-40 bg-pink-400 rounded-full opacity-20 animate-pulse"></div>
  <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-indigo-500 rounded-full opacity-10 animate-ping"></div>
  <div class="absolute bottom-0 left-0 w-full h-2 bg-shimmer animate-shimmer"></div>
</header>

<style>
  .nav-link {
    @apply flex flex-col items-center text-xs font-medium hover:text-indigo-200 transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-50 rounded-lg p-2 glass-effect transform hover:scale-110;
  }

  .nav-icon {
    @apply w-12 h-12 flex items-center justify-center bg-indigo-700 rounded-full mb-1 transition-all duration-300 transform group-hover:rotate-6 group-hover:scale-110 text-xl;
  }

  .nav-text {
    @apply transition-all duration-300 opacity-0 group-hover:opacity-100 mt-1;
  }

  .nav-link-mobile {
    @apply text-white hover:bg-white hover:bg-opacity-10 px-4 py-3 rounded-lg transition-colors duration-300 flex items-center glass-effect;
  }

  @media (max-width: 640px) {
    .nav-link:hover .nav-text,
    .nav-link:focus .nav-text {
      @apply opacity-100;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    AOS.init({
      duration: 1000,
      once: true,
    });

    new Typed('#typed-text', {
      strings: ['Create', 'Design', 'Craft'],
      typeSpeed: 50,
      backSpeed: 30,
      backDelay: 1500,
      loop: true,
      showCursor: false,
    });

    particlesJS('particles-js', {
      particles: {
        number: { value: 80, density: { enable: true, value_area: 800 } },
        color: { value: "#ffffff" },
        shape: { type: "circle", stroke: { width: 0, color: "#000000" }, polygon: { nb_sides: 5 }, image: { src: "img/github.svg", width: 100, height: 100 } },
        opacity: { value: 0.5, random: false, anim: { enable: false, speed: 1, opacity_min: 0.1, sync: false } },
        size: { value: 3, random: true, anim: { enable: false, speed: 40, size_min: 0.1, sync: false } },
        line_linked: { enable: true, distance: 150, color: "#ffffff", opacity: 0.4, width: 1 },
        move: { enable: true, speed: 6, direction: "none", random: false, straight: false, out_mode: "out", bounce: false, attract: { enable: false, rotateX: 600, rotateY: 1200 } }
      },
      interactivity: {
        detect_on: "canvas",
        events: { onhover: { enable: true, mode: "repulse" }, onclick: { enable: true, mode: "push" }, resize: true },
        modes: {
          grab: { distance: 400, line_linked: { opacity: 1 } },
          bubble: { distance: 400, size: 40, duration: 2, opacity: 8, speed: 3 },
          repulse: { distance: 200, duration: 0.4 },
          push: { particles_nb: 4 },
          remove: { particles_nb: 2 }
        }
      },
      retina_detect: true
    });
  });

  // Add this script to create a parallax effect on the header
  window.addEventListener('scroll', () => {
    const header = document.querySelector('header');
    const scrollPosition = window.pageYOffset;
    header.style.backgroundPositionY = `${scrollPosition * 0.5}px`;
  });

  // Smooth scroll initialization
  var scroll = new SmoothScroll('a[href*="#"]', {
    speed: 800,
    speedAsDuration: true
  });

  // Vanilla-tilt initialization for 3D hover effect
  VanillaTilt.init(document.querySelectorAll(".nav-link"), {
    max: 25,
    speed: 400,
    glare: true,
    "max-glare": 0.5,
  });

  // Add a scroll-triggered animation for the header
  window.addEventListener('scroll', () => {
    const header = document.querySelector('header');
    if (window.scrollY > 50) {
      header.classList.add('bg-opacity-90', 'backdrop-blur-md');
    } else {
      header.classList.remove('bg-opacity-90', 'backdrop-blur-md');
    }
  });

  // Add a typing effect to the CardCraft text
  new Typed('.font-display span', {
    strings: ['CardCraft', 'Create', 'Design', 'Innovate'],
    typeSpeed: 50,
    backSpeed: 30,
    backDelay: 1500,
    loop: true,
    showCursor: false,
  });
</script>
